# 库存管理功能指南

## 功能概述

库存管理功能允许玩家为特定物品配置存储容量，通过部署不同类型的存储设备来增加物品的库存上限。

## 访问方式

1. 在物品详情页面中，点击"库存管理"标签页
2. 查看当前库存状态和容量信息
3. 管理存储设备的部署

## 界面组成

### 1. 库存状态显示
- **当前数量** / **最大容量**
- **堆叠信息**：当前堆叠数 / 总堆叠数
- **容量信息**：基础堆叠 + 存储堆叠
- **每堆叠容量**：单个堆叠可存储的数量

### 2. 存储设备列表
显示所有可用的存储设备，每个设备包含：
- **设备图标和名称**
- **当前库存数量**：显示玩家拥有的该设备数量
- **已部署数量**：当前为该物品部署的设备数量
- **容量加成**：该设备提供的额外存储容量
- **增减按钮**：
  - ➕ **添加按钮**：部署一个存储设备（需要库存中有该设备）
  - ➖ **减少按钮**：移除一个已部署的存储设备

### 3. 已部署详情
显示当前为该物品部署的所有存储设备：
- **设备列表**：显示已部署的设备
- **容量信息**：每个设备提供的具体容量
- **删除按钮**：移除特定的存储设备

## 存储设备类型

### 固体存储设备（箱子）
适用于固体物品，提供额外的堆叠数量：
- **木箱**：+16 堆叠
- **铁箱**：+32 堆叠  
- **钢箱**：+48 堆叠

### 液体存储设备（储液罐）
适用于液体物品，提供额外的液体容量：
- **储液罐**：+25,000 单位

## 操作流程

### 添加存储设备
1. 确保库存中有要部署的存储设备
2. 在存储设备列表中找到目标设备
3. 点击 ➕ 按钮部署设备
4. 系统会自动消耗一个存储设备并增加物品容量

### 移除存储设备
1. 在存储设备列表中找到要移除的设备
2. 点击 ➖ 按钮移除设备
3. 系统会归还一个存储设备到库存并减少物品容量

### 查看详情
- 点击"已部署详情"查看所有已部署的设备
- 可以单独删除特定的存储设备

## 容量计算

### 固体物品
```
总容量 = (基础堆叠数 + 存储设备堆叠数) × 每堆叠容量
```

### 液体物品
```
总容量 = 基础容量 + 储液罐容量
```

## 注意事项

1. **库存检查**：部署存储设备前需要确保库存中有该设备
2. **类型匹配**：固体物品只能使用固体存储设备，液体物品只能使用液体存储设备
3. **容量限制**：存储设备数量受库存中可用设备数量限制
4. **自动归还**：移除存储设备时会自动归还到库存中

## 测试功能

使用 `InventoryManagementTest` 组件可以：
- 选择不同的测试物品
- 添加测试存储设备到库存
- 测试存储设备的部署和移除功能
- 验证容量计算是否正确

## 技术实现

- **数据源**：使用 `StorageService` 获取存储配置
- **状态管理**：通过 `useGameStore` 管理库存和部署状态
- **类型安全**：完整的 TypeScript 类型检查
- **响应式设计**：适配不同屏幕尺寸 