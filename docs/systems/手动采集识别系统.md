# æ‰‹åŠ¨é‡‡é›†è¯†åˆ«ç³»ç»Ÿ

## æ¦‚è¿°

æœ¬ç³»ç»ŸåŸºäº [Factorio Wiki](https://wiki.factorio.com/Crafting#Manual_crafting) çš„å®˜æ–¹è§„åˆ™ï¼Œå®ç°äº†è‡ªåŠ¨è¯†åˆ«å“ªäº›ç‰©å“å¯ä»¥æ‰‹åŠ¨é‡‡é›†çš„åŠŸèƒ½ã€‚

## ç³»ç»Ÿè®¾è®¡

### æ ¸å¿ƒè®¾è®¡åŸåˆ™

1. **åŸºäºé…æ–¹ç‰¹å¾åˆ¤æ–­**ï¼šå®Œå…¨æ ¹æ®é…æ–¹çš„å±æ€§æ¥åˆ¤æ–­èƒ½å¦æ‰‹åŠ¨åˆ¶ä½œï¼Œè€Œä¸æ˜¯ç»´æŠ¤ç‰©å“åˆ—è¡¨
2. **é»˜è®¤å…è®¸åŸåˆ™**ï¼šé»˜è®¤æ‰€æœ‰é…æ–¹éƒ½å¯ä»¥æ‰‹åŠ¨åˆ¶ä½œï¼Œåªæœ‰æ˜ç¡®é™åˆ¶çš„é…æ–¹è¢«ç¦æ­¢
3. **å¤šé…æ–¹æ”¯æŒ**ï¼šåŒä¸€ä¸ªç‰©å“å¯èƒ½æœ‰å¤šä¸ªé…æ–¹ï¼Œä¸åŒé…æ–¹å¯èƒ½æœ‰ä¸åŒçš„åˆ¶ä½œæ–¹å¼
4. **çµæ´»æ‰©å±•**ï¼šé€šè¿‡é…æ–¹ç‰¹å¾åˆ¤æ–­ï¼Œæ”¯æŒæ–°å¢ç‰©å“å’Œé…æ–¹ç±»å‹

### åˆ¤æ–­é€»è¾‘

#### 1. é…æ–¹æ ‡å¿—æ£€æŸ¥
- `mining` æ ‡å¿—ï¼šé‡‡çŸ¿é…æ–¹ï¼Œå¯ä»¥æ‰‹åŠ¨é‡‡é›†
- `recycling` æ ‡å¿—ï¼šå›æ”¶é…æ–¹ï¼Œé€šå¸¸å¯ä»¥æ‰‹åŠ¨åˆ¶ä½œ

#### 2. ç”Ÿäº§è€…é™åˆ¶æ£€æŸ¥
å¦‚æœé…æ–¹æœ‰ `producers` å­—æ®µï¼Œæ£€æŸ¥æ˜¯å¦åŒ…å«ç‰¹æ®Šè®¾å¤‡ï¼š
- å†¶ç‚¼ç‚‰ï¼š`stone-furnace`, `steel-furnace`, `electric-furnace`
- è£…é…æœºï¼š`assembling-machine-1`, `assembling-machine-2`, `assembling-machine-3`
- åŒ–å·¥è®¾å¤‡ï¼š`chemical-plant`, `oil-refinery`, `centrifuge`
- æµä½“è®¾å¤‡ï¼š`pumpjack`, `offshore-pump`

#### 3. æµä½“è¾“å…¥æ£€æŸ¥
å¦‚æœé…æ–¹è¾“å…¥åŒ…å«æ¶²ä½“ï¼Œåˆ™ä¸èƒ½æ‰‹åŠ¨åˆ¶ä½œ

#### 4. ç‰¹æ®Šé™åˆ¶ç‰©å“æ£€æŸ¥
æŸäº›é«˜çº§ç‰©å“æ˜ç¡®ä¸èƒ½æ‰‹åŠ¨åˆ¶ä½œï¼š
- `engine-unit`, `electric-engine-unit`
- `flying-robot-frame`, `rocket-fuel`
- `rocket-control-unit`, `low-density-structure`, `rocket-part`

#### 5. é»˜è®¤è§„åˆ™
æ²¡æœ‰ç‰¹æ®Šé™åˆ¶çš„é…æ–¹é»˜è®¤å¯ä»¥æ‰‹åŠ¨åˆ¶ä½œ

### ä¼˜åŠ¿

1. **é€»è¾‘ä¸€è‡´æ€§**ï¼šå®Œå…¨åŸºäºé…æ–¹æ•°æ®ï¼Œä¸æ¸¸æˆé€»è¾‘ä¸€è‡´
2. **ç»´æŠ¤ç®€å•**ï¼šä¸éœ€è¦ç»´æŠ¤ç‰©å“åˆ—è¡¨ï¼Œå‡å°‘ç»´æŠ¤æˆæœ¬
3. **æ‰©å±•æ€§å¼º**ï¼šæ–°å¢ç‰©å“å’Œé…æ–¹ç±»å‹æ—¶è‡ªåŠ¨æ”¯æŒ
4. **å¤šé…æ–¹æ”¯æŒ**ï¼šåŒä¸€ä¸ªç‰©å“çš„ä¸åŒé…æ–¹å¯èƒ½æœ‰ä¸åŒçš„åˆ¶ä½œæ–¹å¼
5. **é»˜è®¤å…è®¸**ï¼šç¬¦åˆ"é»˜è®¤å…è®¸"çš„è®¾è®¡åŸåˆ™

## æ ¸å¿ƒè§„åˆ™

### âœ… å¯ä»¥æ‰‹åŠ¨é‡‡é›†çš„ç‰©å“ç±»å‹

#### 1. åŸææ–™ç±»ç‰©å“
- **ç‰¹å¾**: æ²¡æœ‰åˆ¶ä½œé…æ–¹ (`recipes.length === 0`)
- **ç¤ºä¾‹**: é“çŸ¿çŸ³ã€é“œçŸ¿çŸ³ã€ç…¤ç‚­ã€çŸ³å¤´ã€æœ¨æ
- **å¤„ç†æ–¹å¼**: ç›´æ¥æ·»åŠ åˆ°åˆ¶ä½œé˜Ÿåˆ—ï¼Œç«‹å³å®Œæˆ

#### 2. é‡‡çŸ¿ç±»ç‰©å“
- **ç‰¹å¾**: é…æ–¹åŒ…å« `flags: ['mining']` æ ‡å¿—
- **ç¤ºä¾‹**: é“çŸ¿çŸ³ã€é“œçŸ¿çŸ³ã€ç…¤ç‚­ã€çŸ³å¤´ã€é“€çŸ¿çŸ³
- **å¤„ç†æ–¹å¼**: å¯ä»¥æ‰‹åŠ¨é‡‡é›†ï¼Œä½†éœ€è¦æ—¶é—´

#### 3. åŸºç¡€åˆ¶ä½œç‰©å“
- **ç‰¹å¾**: æœ‰ç®€å•é…æ–¹ï¼Œä¸æ¶‰åŠç‰¹æ®Šè®¾å¤‡
- **ç¤ºä¾‹**: æœ¨ç®±ã€é“é½¿è½®ã€é“œçº¿
- **å¤„ç†æ–¹å¼**: éœ€è¦ææ–™ï¼ŒæŒ‰é…æ–¹æ—¶é—´åˆ¶ä½œ

#### 4. å›æ”¶ç±»ç‰©å“
- **ç‰¹å¾**: é…æ–¹åŒ…å« `flags: ['recycling']` æ ‡å¿—
- **ç¤ºä¾‹**: å„ç§å›æ”¶é…æ–¹
- **å¤„ç†æ–¹å¼**: å¯ä»¥æ‰‹åŠ¨åˆ¶ä½œ

### âŒ æ— æ³•æ‰‹åŠ¨é‡‡é›†çš„ç‰©å“ç±»å‹

#### 1. éœ€è¦ç†”ç‚‰å†¶ç‚¼çš„ç‰©å“
- **é™åˆ¶åŸå› **: å¿…é¡»åœ¨ç†”ç‚‰ä¸­å†¶ç‚¼
- **ç”Ÿäº§è€…**: `stone-furnace`, `steel-furnace`, `electric-furnace`
- **ç¤ºä¾‹**: é“æ¿ã€é“œæ¿ã€é’¢æ¿ã€çŸ³ç –

#### 2. éœ€è¦è£…é…æœºçš„ç‰©å“
- **é™åˆ¶åŸå› **: å¿…é¡»åœ¨è£…é…æœºä¸­åˆ¶ä½œ
- **ç”Ÿäº§è€…**: `assembling-machine-1`, `assembling-machine-2`, `assembling-machine-3`
- **ç¤ºä¾‹**: ç”µå­ç”µè·¯ã€å‘åŠ¨æœºå•å…ƒã€ä¼ é€å¸¦

#### 3. éœ€è¦åŒ–å·¥è®¾å¤‡çš„ç‰©å“
- **é™åˆ¶åŸå› **: å¿…é¡»åœ¨åŒ–å·¥è®¾å¤‡ä¸­å¤„ç†
- **ç”Ÿäº§è€…**: `chemical-plant`, `oil-refinery`, `centrifuge`
- **ç¤ºä¾‹**: å¡‘æ–™ã€ç¡«é…¸ã€æ¶¦æ»‘æ²¹

#### 4. æ¶‰åŠæ¶²ä½“çš„é…æ–¹
- **é™åˆ¶åŸå› **: é…æ–¹åŒ…å«æ¶²ä½“è¾“å…¥
- **ç¤ºä¾‹**: å‘åŠ¨æœºå•å…ƒã€ç”µåŠ¨å‘åŠ¨æœºå•å…ƒ
- **æ¶²ä½“ç‰©å“**: æ°´ã€è’¸æ±½ã€åŸæ²¹ã€ç¡«é…¸ç­‰

#### 5. é«˜çº§ç‰©å“
- **é™åˆ¶åŸå› **: æ¸¸æˆè®¾è®¡é™åˆ¶
- **ç¤ºä¾‹**: ç«ç®­ç‡ƒæ–™ã€ç«ç®­æ§åˆ¶å•å…ƒã€é£è¡Œæœºå™¨äººæ¡†æ¶

## UI é…æ–¹è¿‡æ»¤æœºåˆ¶

### æ ¸å¿ƒåŸåˆ™

**éœ€è¦ç‰¹å®šç”Ÿäº§è€…ï¼ˆproducerï¼‰çš„é…æ–¹ä¸åº”è¯¥å±•ç¤ºåœ¨æ‰‹åŠ¨åˆæˆçš„é…æ–¹åˆ†ç±»ä¸­**

### è¿‡æ»¤é€»è¾‘

#### 1. é…æ–¹åˆ†ç±»
```typescript
// ä½¿ç”¨éªŒè¯å™¨æ£€æŸ¥å“ªäº›é…æ–¹å¯ä»¥æ‰‹åŠ¨åˆ¶ä½œ
const manualCraftableRecipes = itemRecipes.filter(recipe => {
  const validation = validator.validateRecipe(recipe);
  return validation.canCraftManually;
});

// æ£€æŸ¥æ˜¯å¦æœ‰éœ€è¦ç‰¹å®šç”Ÿäº§è€…çš„é…æ–¹
const restrictedRecipes = itemRecipes.filter(recipe => {
  const validation = validator.validateRecipe(recipe);
  return !validation.canCraftManually && validation.category === 'restricted';
});
```

#### 2. UI æ˜¾ç¤ºé€»è¾‘

**æƒ…å†µ1: åŸææ–™ï¼ˆæ— é…æ–¹ï¼‰**
- æ˜¾ç¤º: "æ‰‹åŠ¨åˆæˆ"
- çŠ¶æ€: ç«‹å³å®Œæˆ
- ææ–™: æ— éœ€ææ–™

**æƒ…å†µ2: å¯æ‰‹åŠ¨åˆ¶ä½œçš„é…æ–¹**
- æ˜¾ç¤º: "æ‰‹åŠ¨åˆæˆ"
- çŠ¶æ€: æ˜¾ç¤ºåˆ¶ä½œæ—¶é—´
- ææ–™: æ˜¾ç¤ºæ‰€éœ€ææ–™
- æŒ‰é’®: å¯ç”¨åˆ¶ä½œæŒ‰é’®

**æƒ…å†µ3: éœ€è¦ç”Ÿäº§è®¾å¤‡çš„é…æ–¹**
- æ˜¾ç¤º: "éœ€è¦ç”Ÿäº§è®¾å¤‡"
- çŠ¶æ€: æ˜¾ç¤ºé™åˆ¶åŸå› 
- ææ–™: æ˜¾ç¤ºæ‰€éœ€ææ–™ï¼ˆä»…ä½œå‚è€ƒï¼‰
- æŒ‰é’®: ç¦ç”¨åˆ¶ä½œæŒ‰é’®
- æç¤º: "è¯·åœ¨è®¾æ–½æ¨¡å—ä¸­é…ç½®ç›¸åº”çš„ç”Ÿäº§è®¾å¤‡"

**æƒ…å†µ4: æ— å¯ç”¨é…æ–¹**
- æ˜¾ç¤º: "æ­¤ç‰©å“æ²¡æœ‰å¯ç”¨çš„åˆ¶ä½œé…æ–¹"

### éªŒè¯å™¨æ–¹æ³•

```typescript
// å…¬å…±æ–¹æ³•ï¼Œä¾›UIç»„ä»¶ä½¿ç”¨
public validateRecipe(recipe: Recipe): ManualCraftingValidation {
  // æ£€æŸ¥é…æ–¹æ ‡å¿—
  if (recipe.flags) {
    if (recipe.flags.includes('mining')) {
      return { canCraftManually: true, reason: 'é‡‡çŸ¿é…æ–¹ï¼Œå¯æ‰‹åŠ¨é‡‡é›†', category: 'raw_material' };
    }
    if (recipe.flags.includes('recycling')) {
      return { canCraftManually: true, reason: 'å›æ”¶é…æ–¹ï¼Œå¯æ‰‹åŠ¨åˆ¶ä½œ', category: 'craftable' };
    }
  }

  // æ£€æŸ¥ç”Ÿäº§è€…é™åˆ¶
  if (recipe.producers) {
    const restrictedProducers = [
      'stone-furnace', 'steel-furnace', 'electric-furnace',
      'assembling-machine-1', 'assembling-machine-2', 'assembling-machine-3',
      'chemical-plant', 'oil-refinery', 'centrifuge',
      'pumpjack', 'offshore-pump'
    ];

    const hasRestrictedProducer = recipe.producers.some(producer => 
      restrictedProducers.includes(producer)
    );

    if (hasRestrictedProducer) {
      return { canCraftManually: false, reason: 'éœ€è¦ç‰¹æ®Šç”Ÿäº§è®¾å¤‡', category: 'restricted' };
    }
  }

  // æ£€æŸ¥æ¶²ä½“è¾“å…¥
  if (recipe.in) {
    const fluidInputs = Object.keys(recipe.in).filter(input => this.isFluidItem(input));
    if (fluidInputs.length > 0) {
      return { canCraftManually: false, reason: 'é…æ–¹åŒ…å«æ¶²ä½“ï¼Œæ— æ³•æ‰‹åŠ¨åˆ¶ä½œ', category: 'restricted' };
    }
  }

  // é»˜è®¤å¯ä»¥æ‰‹åŠ¨åˆ¶ä½œ
  return { canCraftManually: true, reason: 'å¯é€šè¿‡é…æ–¹æ‰‹åŠ¨åˆ¶ä½œ', category: 'craftable' };
}
```

## æŠ€æœ¯å®ç°

### æ ¸å¿ƒéªŒè¯ç±»

```typescript
class ManualCraftingValidator {
  // åˆ¤æ–­ç‰©å“æ˜¯å¦å¯ä»¥æ‰‹åŠ¨é‡‡é›†
  validateManualCrafting(itemId: string): ManualCraftingValidation
  
  // éªŒè¯å•ä¸ªé…æ–¹æ˜¯å¦å¯ä»¥æ‰‹åŠ¨åˆ¶ä½œï¼ˆå…¬å…±æ–¹æ³•ï¼‰
  public validateRecipe(recipe: Recipe): ManualCraftingValidation
  
  // è·å–å¯æ‰‹åŠ¨é‡‡é›†çš„ç‰©å“åˆ—è¡¨
  getManualCraftableItems(): string[]
  
  // è·å–åŸææ–™ç‰©å“åˆ—è¡¨
  getRawMaterials(): string[]
  
  // è·å–é‡‡çŸ¿ç±»ç‰©å“åˆ—è¡¨
  getMiningItems(): string[]
}
```

### éªŒè¯æµç¨‹

1. **æ£€æŸ¥ç‰©å“å­˜åœ¨æ€§**
   - éªŒè¯ç‰©å“æ˜¯å¦å­˜åœ¨äºæ¸¸æˆæ•°æ®ä¸­

2. **æ£€æŸ¥é…æ–¹æ•°é‡**
   - å¦‚æœæ²¡æœ‰é…æ–¹ â†’ åŸææ–™ï¼Œå¯æ‰‹åŠ¨é‡‡é›†
   - å¦‚æœæœ‰é…æ–¹ â†’ ç»§ç»­æ£€æŸ¥é…æ–¹é™åˆ¶

3. **æ£€æŸ¥é…æ–¹æ ‡å¿—**
   - `mining` æ ‡å¿— â†’ å¯æ‰‹åŠ¨é‡‡é›†
   - `recycling` æ ‡å¿— â†’ å¯æ‰‹åŠ¨åˆ¶ä½œ

4. **æ£€æŸ¥ç”Ÿäº§è€…é™åˆ¶**
   - ç†”ç‚‰ã€è£…é…æœºã€åŒ–å·¥è®¾å¤‡ â†’ ä¸å¯æ‰‹åŠ¨åˆ¶ä½œ

5. **æ£€æŸ¥æ¶²ä½“è¾“å…¥**
   - åŒ…å«æ¶²ä½“è¾“å…¥ â†’ ä¸å¯æ‰‹åŠ¨åˆ¶ä½œ

6. **æ£€æŸ¥ç‰¹æ®Šé™åˆ¶**
   - é«˜çº§ç‰©å“åˆ—è¡¨ â†’ ä¸å¯æ‰‹åŠ¨åˆ¶ä½œ

### æ•°æ®ç»“æ„

```typescript
interface ManualCraftingValidation {
  canCraftManually: boolean;  // æ˜¯å¦å¯ä»¥æ‰‹åŠ¨é‡‡é›†
  reason: string;             // åŸå› è¯´æ˜
  category: 'raw_material' | 'craftable' | 'restricted';  // ç±»åˆ«
}
```

## ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬ä½¿ç”¨

```typescript
import ManualCraftingValidator from './utils/manualCraftingValidator';

const validator = ManualCraftingValidator.getInstance();

// æ£€æŸ¥ç‰¹å®šç‰©å“
const validation = validator.validateManualCrafting('iron-ore');
console.log(validation);
// è¾“å‡º: { canCraftManually: true, reason: 'åŸææ–™ï¼Œå¯ç›´æ¥é‡‡é›†', category: 'raw_material' }

// è·å–æ‰€æœ‰å¯æ‰‹åŠ¨é‡‡é›†çš„ç‰©å“
const manualCraftableItems = validator.getManualCraftableItems();
console.log(`å¯æ‰‹åŠ¨é‡‡é›†çš„ç‰©å“æ•°é‡: ${manualCraftableItems.length}`);
```

### åœ¨UIä¸­çš„åº”ç”¨

```typescript
// åœ¨ç‰©å“è¯¦æƒ…é¡µé¢ä¸­
const canCraftManually = validator.validateManualCrafting(item.id).canCraftManually;

if (canCraftManually) {
  // æ˜¾ç¤ºæ‰‹åŠ¨åˆ¶ä½œæŒ‰é’®
  return <ManualCraftButton item={item} />;
} else {
  // æ˜¾ç¤ºéœ€è¦è®¾å¤‡çš„æç¤º
  return <RequiresMachineMessage item={item} />;
}
```

### é…æ–¹è¿‡æ»¤ç¤ºä¾‹

```typescript
// åœ¨ItemDetailPanelä¸­çš„ä½¿ç”¨
const itemRecipes = dataService.getRecipesForItem(item.id);
const validator = ManualCraftingValidator.getInstance();

// è¿‡æ»¤å¯æ‰‹åŠ¨åˆ¶ä½œçš„é…æ–¹
const manualCraftableRecipes = itemRecipes.filter(recipe => {
  const validation = validator.validateRecipe(recipe);
  return validation.canCraftManually;
});

// è¿‡æ»¤éœ€è¦ç”Ÿäº§è®¾å¤‡çš„é…æ–¹
const restrictedRecipes = itemRecipes.filter(recipe => {
  const validation = validator.validateRecipe(recipe);
  return !validation.canCraftManually && validation.category === 'restricted';
});

// æ ¹æ®è¿‡æ»¤ç»“æœæ˜¾ç¤ºä¸åŒçš„UI
if (manualCraftableRecipes.length > 0) {
  // æ˜¾ç¤ºæ‰‹åŠ¨åˆæˆUI
} else if (restrictedRecipes.length > 0) {
  // æ˜¾ç¤ºéœ€è¦ç”Ÿäº§è®¾å¤‡UI
} else {
  // æ˜¾ç¤ºæ— å¯ç”¨é…æ–¹UI
}
```

## æ•°æ®æ¥æº

### æ¸¸æˆæ•°æ®æ–‡ä»¶
- **ä½ç½®**: `data/spa/data.json`
- **å†…å®¹**: ç‰©å“å®šä¹‰ã€é…æ–¹å®šä¹‰ã€æ ‡å¿—ä¿¡æ¯

### å…³é”®æ•°æ®å­—æ®µ

#### ç‰©å“å®šä¹‰
```json
{
  "id": "iron-ore",
  "name": "Iron ore",
  "category": "intermediate-products",
  "stack": 50,
  "row": 0
}
```

#### é…æ–¹å®šä¹‰
```json
{
  "id": "iron-ore-mining",
  "name": "Iron ore",
  "category": "intermediate-products",
  "time": 1,
  "in": {},
  "out": { "iron-ore": 1 },
  "flags": ["mining"],
  "producers": ["burner-mining-drill", "electric-mining-drill", "big-mining-drill"],
  "locations": ["nauvis"]
}
```

## æ‰©å±•æ€§

### æ·»åŠ æ–°çš„é™åˆ¶è§„åˆ™

1. **åœ¨ `validateRecipe` æ–¹æ³•ä¸­æ·»åŠ æ–°çš„æ£€æŸ¥é€»è¾‘**
2. **æ›´æ–° `restrictedProducers` æ•°ç»„**
3. **æ›´æ–° `restrictedItems` æ•°ç»„**
4. **æ›´æ–° `fluidItems` æ•°ç»„**

### æ·»åŠ æ–°çš„é…æ–¹æ ‡å¿—

1. **åœ¨ `validateRecipe` æ–¹æ³•ä¸­æ·»åŠ æ–°çš„æ ‡å¿—æ£€æŸ¥**
2. **æ›´æ–°ç›¸å…³çš„éªŒè¯é€»è¾‘**

## æµ‹è¯•

### è¿è¡Œç¤ºä¾‹

```typescript
import ManualCraftingExamples from './utils/manualCraftingExamples';

const examples = new ManualCraftingExamples();
await examples.runAllExamples();
```

### è¿è¡Œé…æ–¹è¿‡æ»¤æµ‹è¯•

```typescript
import { manualCraftingTest } from './utils/manualCraftingTest';

// æµ‹è¯•é…æ–¹è¿‡æ»¤åŠŸèƒ½
await manualCraftingTest.testRecipeFiltering();

// æµ‹è¯•ç‰¹å®šç‰©å“
await manualCraftingTest.testSpecificItem('iron-plate');
```

### é¢„æœŸè¾“å‡º

```
ğŸš€ å¼€å§‹æ‰‹åŠ¨é‡‡é›†éªŒè¯ç¤ºä¾‹

=== æ£€æŸ¥ç‰¹å®šç‰©å“çš„æ‰‹åŠ¨é‡‡é›†èƒ½åŠ› ===
é“çŸ¿çŸ³ (iron-ore):
  å¯æ‰‹åŠ¨é‡‡é›†: âœ… æ˜¯
  åŸå› : åŸææ–™ï¼Œå¯ç›´æ¥é‡‡é›†
  ç±»åˆ«: raw_material

é“æ¿ (iron-plate):
  å¯æ‰‹åŠ¨é‡‡é›†: âŒ å¦
  åŸå› : éœ€è¦ç‰¹æ®Šç”Ÿäº§è®¾å¤‡
  ç±»åˆ«: restricted

...

=== æ‰€æœ‰å¯æ‰‹åŠ¨é‡‡é›†çš„ç‰©å“ ===
æ€»å…±æ‰¾åˆ° 156 ä¸ªå¯æ‰‹åŠ¨é‡‡é›†çš„ç‰©å“:

=== æµ‹è¯•é…æ–¹è¿‡æ»¤åŠŸèƒ½ ===
--- æµ‹è¯•ç‰©å“: iron-ore ---
é…æ–¹æ•°é‡: 1
å¯æ‰‹åŠ¨åˆ¶ä½œçš„é…æ–¹: 1
éœ€è¦ç”Ÿäº§è®¾å¤‡çš„é…æ–¹: 0
âœ… å¯æ‰‹åŠ¨åˆ¶ä½œçš„é…æ–¹:
  - iron-ore-mining: é‡‡çŸ¿é…æ–¹ï¼Œå¯æ‰‹åŠ¨é‡‡é›†
ğŸ“‹ UIæ˜¾ç¤º: æ‰‹åŠ¨åˆæˆï¼ˆå¯æ‰‹åŠ¨åˆ¶ä½œï¼‰

--- æµ‹è¯•ç‰©å“: iron-plate ---
é…æ–¹æ•°é‡: 1
å¯æ‰‹åŠ¨åˆ¶ä½œçš„é…æ–¹: 0
éœ€è¦ç”Ÿäº§è®¾å¤‡çš„é…æ–¹: 1
âŒ éœ€è¦ç”Ÿäº§è®¾å¤‡çš„é…æ–¹:
  - iron-plate-smelting: éœ€è¦ç‰¹æ®Šç”Ÿäº§è®¾å¤‡
    éœ€è¦è®¾å¤‡: stone-furnace, steel-furnace, electric-furnace
ğŸ“‹ UIæ˜¾ç¤º: éœ€è¦ç”Ÿäº§è®¾å¤‡ï¼ˆä¸å¯æ‰‹åŠ¨åˆ¶ä½œï¼‰
```

## æ›´æ–°æ—¥å¿—

### v1.5.0 - åŸºäºé…æ–¹çš„åˆ¤æ–­é€»è¾‘
- âœ… ç§»é™¤é»‘åå•æœºåˆ¶ï¼Œæ”¹ä¸ºåŸºäºé…æ–¹ç‰¹å¾åˆ¤æ–­
- âœ… æ ¹æ®é…æ–¹å±æ€§ï¼ˆproducersã€flagsã€è¾“å…¥ææ–™ç­‰ï¼‰åˆ¤æ–­èƒ½å¦æ‰‹åŠ¨åˆ¶ä½œ
- âœ… é»˜è®¤å…è®¸æ‰‹åŠ¨åˆ¶ä½œï¼Œåªæœ‰ç‰¹æ®Šé™åˆ¶çš„é…æ–¹è¢«ç¦æ­¢
- âœ… æ”¯æŒå¤šé…æ–¹ç‰©å“ï¼Œä¸åŒé…æ–¹å¯èƒ½æœ‰ä¸åŒçš„åˆ¶ä½œæ–¹å¼
- âœ… æ·»åŠ äº†è¯¦ç»†çš„æµ‹è¯•ç”¨ä¾‹éªŒè¯åŸºäºé…æ–¹çš„é€»è¾‘
- âœ… å®Œå–„äº†æ–‡æ¡£è¯´æ˜

### v1.4.0 - ä¸¥æ ¼æ‰‹åŠ¨åˆ¶ä½œè§„åˆ™
- âœ… å®æ–½ä¸¥æ ¼çš„æ‰‹åŠ¨åˆ¶ä½œè§„åˆ™ï¼Œç¬¦åˆFactorioæ¸¸æˆé€»è¾‘
- âœ… å†¶ç‚¼ç‰©å“ï¼ˆé“æ¿ã€é“œæ¿ã€é’¢æ¿ï¼‰ä¸èƒ½æ‰‹åŠ¨åˆ¶ä½œï¼Œå¿…é¡»ä½¿ç”¨å†¶ç‚¼ç‚‰
- âœ… é«˜çº§ç‰©å“ï¼ˆå†…ç‡ƒæœºã€é«˜çº§ç”µè·¯ç­‰ï¼‰ä¸èƒ½æ‰‹åŠ¨åˆ¶ä½œï¼Œå¿…é¡»ä½¿ç”¨æœºå™¨
- âœ… æ¶‰åŠæµä½“çš„é…æ–¹ä¸èƒ½æ‰‹åŠ¨åˆ¶ä½œï¼Œå¿…é¡»ä½¿ç”¨æœºå™¨
- âœ… æ·»åŠ äº†è¯¦ç»†çš„æµ‹è¯•ç”¨ä¾‹éªŒè¯æ–°è§„åˆ™
- âœ… å®Œå–„äº†æ–‡æ¡£è¯´æ˜

### v1.3.0 - åŸºç¡€åˆ¶ä½œç‰©å“æ”¯æŒ
- âœ… æ·»åŠ äº†åŸºç¡€åˆ¶ä½œç‰©å“åˆ—è¡¨ï¼Œæ”¯æŒwooden-chestç­‰åŸºç¡€ç‰©å“æ‰‹åŠ¨åˆ¶ä½œ
- âœ… ä¿®æ”¹äº†éªŒè¯é€»è¾‘ï¼ŒåŸºç¡€ç‰©å“å³ä½¿æœ‰producersä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ¶ä½œ
- âœ… æ·»åŠ äº†è¯¦ç»†çš„æµ‹è¯•ç”¨ä¾‹éªŒè¯åŸºç¡€åˆ¶ä½œåŠŸèƒ½
- âœ… å®Œå–„äº†æ–‡æ¡£è¯´æ˜

### v1.2.0 - é…æ–¹åˆ†ç±»æ˜¾ç¤ºåŠŸèƒ½
- âœ… æ·»åŠ äº†é…æ–¹åˆ†ç±»æ˜¾ç¤ºé€»è¾‘ï¼Œå°†é…æ–¹åˆ†ä¸ºæ‰‹åŠ¨åˆæˆå’Œç”Ÿäº§è®¾å¤‡ä¸¤ç±»
- âœ… å®ç°äº†producerè§£é”æ£€æŸ¥ï¼Œåªæœ‰è§£é”çš„produceré…æ–¹æ‰ä¼šæ˜¾ç¤º
- âœ… ä¼˜åŒ–äº†UIæ˜¾ç¤ºï¼Œæ¸…æ™°åŒºåˆ†ä¸¤ç§é…æ–¹ç±»å‹
- âœ… æ·»åŠ äº†è¯¦ç»†çš„æµ‹è¯•ç”¨ä¾‹å’ŒéªŒè¯é€»è¾‘
- âœ… å®Œå–„äº†æ–‡æ¡£è¯´æ˜

### v1.1.0 - UIé…æ–¹è¿‡æ»¤æœºåˆ¶
- âœ… æ·»åŠ äº†é…æ–¹è¿‡æ»¤é€»è¾‘ï¼Œæ’é™¤éœ€è¦ç‰¹å®šç”Ÿäº§è€…çš„é…æ–¹
- âœ… ä¿®æ”¹äº† `validateRecipe` æ–¹æ³•ä¸ºå…¬å…±æ–¹æ³•
- âœ… æ›´æ–°äº† `ItemDetailPanel` çš„UIæ˜¾ç¤ºé€»è¾‘
- âœ… æ·»åŠ äº†è¯¦ç»†çš„æµ‹è¯•ç”¨ä¾‹
- âœ… å®Œå–„äº†æ–‡æ¡£è¯´æ˜

## ä¸¥æ ¼æ‰‹åŠ¨åˆ¶ä½œè§„åˆ™

### æ ¸å¿ƒè®¾è®¡

**ä¸¥æ ¼çš„æ‰‹åŠ¨åˆ¶ä½œè§„åˆ™**ï¼šæ ¹æ®Factorioæ¸¸æˆé€»è¾‘ï¼ŒæŸäº›ç‰©å“å¿…é¡»ä½¿ç”¨ç‰¹å®šè®¾å¤‡åˆ¶ä½œï¼Œä¸èƒ½æ‰‹åŠ¨åˆ¶ä½œã€‚

### æ‰‹åŠ¨åˆ¶ä½œè§„åˆ™

#### âœ… å¯ä»¥æ‰‹åŠ¨åˆ¶ä½œçš„ç‰©å“

**åŸºç¡€åˆ¶ä½œç‰©å“**ï¼š
- `wooden-chest` - æœ¨ç®±
- `iron-chest` - é“ç®±
- `iron-gear-wheel` - é“é½¿è½®
- `copper-cable` - é“œçº¿
- `pipe` - ç®¡é“
- `stone-brick` - çŸ³ç –
- `iron-stick` - é“æ£’
- `transport-belt` - ä¼ é€å¸¦
- `underground-belt` - åœ°ä¸‹ä¼ é€å¸¦
- `splitter` - åˆ†æµå™¨
- `burner-inserter` - çƒ­èƒ½æœºæ¢°è‡‚
- `inserter` - æœºæ¢°è‡‚
- `long-handed-inserter` - é•¿è‡‚æœºæ¢°è‡‚
- `fast-inserter` - å¿«é€Ÿæœºæ¢°è‡‚
- `filter-inserter` - ç­›é€‰æœºæ¢°è‡‚
- `stack-inserter` - å †å æœºæ¢°è‡‚
- `small-electric-pole` - å°å‹ç”µçº¿æ†
- `medium-electric-pole` - ä¸­å‹ç”µçº¿æ†
- `large-electric-pole` - å¤§å‹ç”µçº¿æ†
- `substation` - å˜ç”µç«™
- `boiler` - é”…ç‚‰
- `steam-engine` - è’¸æ±½æœº
- `solar-panel` - å¤ªé˜³èƒ½æ¿
- `accumulator` - è“„ç”µå™¨
- `burner-mining-drill` - çƒ­èƒ½é‡‡çŸ¿æœº
- `electric-mining-drill` - ç”µåŠ›é‡‡çŸ¿æœº
- `stone-furnace` - çŸ³ç‚‰
- `steel-furnace` - é’¢ç‚‰
- `electric-furnace` - ç”µç‚‰
- `assembling-machine-1` - è£…é…æœº1å‹
- `assembling-machine-2` - è£…é…æœº2å‹
- `assembling-machine-3` - è£…é…æœº3å‹
- `lab` - å®éªŒå®¤
- `radar` - é›·è¾¾
- `beacon` - ä¿¡æ ‡
- `speed-module` - é€Ÿåº¦æ¨¡å—
- `effectivity-module` - èŠ‚èƒ½æ¨¡å—
- `productivity-module` - äº§èƒ½æ¨¡å—
- ä»¥åŠå®ƒä»¬çš„2çº§å’Œ3çº§ç‰ˆæœ¬

#### âŒ ä¸èƒ½æ‰‹åŠ¨åˆ¶ä½œçš„ç‰©å“

**å†¶ç‚¼ç‰©å“**ï¼ˆå¿…é¡»ä½¿ç”¨å†¶ç‚¼ç‚‰ï¼‰ï¼š
- `iron-plate` - é“æ¿
- `copper-plate` - é“œæ¿
- `steel-plate` - é’¢æ¿

**é«˜çº§ç‰©å“**ï¼ˆå¿…é¡»ä½¿ç”¨æœºå™¨åˆ¶é€ ï¼‰ï¼š
- `engine-unit` - å†…ç‡ƒæœº
- `advanced-circuit` - é«˜çº§ç”µè·¯
- `processing-unit` - å¤„ç†å™¨å•å…ƒ
- `rocket-fuel` - ç«ç®­ç‡ƒæ–™
- `flying-robot-frame` - é£è¡Œæœºå™¨äººæ¡†æ¶
- `rocket-control-unit` - ç«ç®­æ§åˆ¶å•å…ƒ
- `low-density-structure` - ä½å¯†åº¦ç»“æ„
- `rocket-part` - ç«ç®­éƒ¨ä»¶

**æ¶‰åŠæµä½“çš„é…æ–¹**ï¼ˆå¿…é¡»ä½¿ç”¨æœºå™¨ï¼‰ï¼š
- `sulfuric-acid` - ç¡«é…¸
- `lubricant` - æ¶¦æ»‘æ²¹
- `plastic-bar` - å¡‘æ–™æ£’
- ä»»ä½•åŒ…å«æ¶²ä½“è¾“å…¥æˆ–è¾“å‡ºçš„é…æ–¹

### å®ç°é€»è¾‘

#### éªŒè¯ä¼˜å…ˆçº§
```typescript
// 1. æ£€æŸ¥é…æ–¹æ ‡å¿—ï¼ˆmining, recyclingï¼‰
// 2. æ£€æŸ¥æ˜¯å¦ä¸ºåŸºç¡€åˆ¶ä½œç‰©å“ï¼ˆä¸¥æ ¼é™åˆ¶ï¼‰
if (basicCraftableItems.includes(recipe.id)) {
  return {
    canCraftManually: true,
    reason: 'åŸºç¡€åˆ¶ä½œç‰©å“ï¼Œå¯æ‰‹åŠ¨åˆ¶ä½œ',
    category: 'craftable'
  };
}
// 3. æ£€æŸ¥ç”Ÿäº§è€…é™åˆ¶ï¼ˆå†¶ç‚¼ç‚‰ã€è£…é…æœºç­‰ï¼‰
// 4. æ£€æŸ¥æ¶²ä½“è¾“å…¥
// 5. æ£€æŸ¥ç‰¹æ®Šé™åˆ¶ç‰©å“
```

#### åŸºç¡€åˆ¶ä½œç‰©å“æ£€æŸ¥ï¼ˆä¸¥æ ¼ç‰ˆæœ¬ï¼‰
```typescript
// æ£€æŸ¥æ˜¯å¦ä¸ºåŸºç¡€åˆ¶ä½œç‰©å“ï¼ˆä¸¥æ ¼é™åˆ¶ï¼Œä¸åŒ…å«å†¶ç‚¼å’Œé«˜çº§ç‰©å“ï¼‰
const basicCraftableItems = [
  'wooden-chest',      // æœ¨ç®±
  'iron-chest',        // é“ç®±
  'iron-gear-wheel',   // é“é½¿è½®
  'copper-cable',      // é“œçº¿
  'pipe',              // ç®¡é“
  'stone-brick',       // çŸ³ç –
  'iron-stick',        // é“æ£’
  'transport-belt',     // ä¼ é€å¸¦
  'underground-belt',   // åœ°ä¸‹ä¼ é€å¸¦
  'splitter',          // åˆ†æµå™¨
  // ... æ›´å¤šåŸºç¡€ç‰©å“ï¼ˆä¸åŒ…å«å†¶ç‚¼å’Œé«˜çº§ç‰©å“ï¼‰
];

if (basicCraftableItems.includes(recipe.id)) {
  return {
    canCraftManually: true,
    reason: 'åŸºç¡€åˆ¶ä½œç‰©å“ï¼Œå¯æ‰‹åŠ¨åˆ¶ä½œ',
    category: 'craftable'
  };
}
```

### æµ‹è¯•éªŒè¯

#### è¿è¡Œä¸¥æ ¼åˆ¶ä½œæµ‹è¯•
```typescript
import { strictCraftingTest } from './utils/strictCraftingTest';

// æµ‹è¯•ä¸¥æ ¼æ‰‹åŠ¨åˆ¶ä½œè§„åˆ™
await strictCraftingTest.testStrictCraftingRules();

// æµ‹è¯•å†¶ç‚¼é…æ–¹
await strictCraftingTest.testSmeltingRecipes();

// æµ‹è¯•é«˜çº§ç‰©å“
await strictCraftingTest.testAdvancedItems();

// æµ‹è¯•åŸºç¡€åˆ¶ä½œç‰©å“
await strictCraftingTest.testBasicCraftableItems();
```

#### é¢„æœŸè¾“å‡º
```
=== æµ‹è¯•ä¸¥æ ¼æ‰‹åŠ¨åˆ¶ä½œè§„åˆ™ ===
--- å¯ä»¥æ‰‹åŠ¨åˆ¶ä½œçš„ç‰©å“ ---
wooden-chest: âœ… å¯æ‰‹åŠ¨åˆ¶ä½œ
iron-gear-wheel: âœ… å¯æ‰‹åŠ¨åˆ¶ä½œ
transport-belt: âœ… å¯æ‰‹åŠ¨åˆ¶ä½œ

--- ä¸èƒ½æ‰‹åŠ¨åˆ¶ä½œçš„ç‰©å“ï¼ˆå†¶ç‚¼ï¼‰ ---
iron-plate: âœ… ä¸å¯æ‰‹åŠ¨åˆ¶ä½œ
copper-plate: âœ… ä¸å¯æ‰‹åŠ¨åˆ¶ä½œ
steel-plate: âœ… ä¸å¯æ‰‹åŠ¨åˆ¶ä½œ

--- ä¸èƒ½æ‰‹åŠ¨åˆ¶ä½œçš„ç‰©å“ï¼ˆé«˜çº§ï¼‰ ---
engine-unit: âœ… ä¸å¯æ‰‹åŠ¨åˆ¶ä½œ
advanced-circuit: âœ… ä¸å¯æ‰‹åŠ¨åˆ¶ä½œ
processing-unit: âœ… ä¸å¯æ‰‹åŠ¨åˆ¶ä½œ
```

### ç”¨æˆ·ä½“éªŒæ”¹è¿›

#### è§„åˆ™å˜æ›´
- **ä¹‹å‰**ï¼šåŸºç¡€ç‰©å“ï¼ˆåŒ…æ‹¬å†¶ç‚¼ç‰©å“ï¼‰å¯ä»¥æ‰‹åŠ¨åˆ¶ä½œ
- **ç°åœ¨**ï¼šåªæœ‰çœŸæ­£çš„åŸºç¡€åˆ¶ä½œç‰©å“å¯ä»¥æ‰‹åŠ¨åˆ¶ä½œ

#### ç¬¦åˆæ¸¸æˆé€»è¾‘
- âœ… å†¶ç‚¼ç‰©å“å¿…é¡»ä½¿ç”¨å†¶ç‚¼ç‚‰
- âœ… é«˜çº§ç‰©å“å¿…é¡»ä½¿ç”¨æœºå™¨åˆ¶é€ 
- âœ… æ¶‰åŠæµä½“çš„é…æ–¹å¿…é¡»ä½¿ç”¨æœºå™¨
- âœ… åŸºç¡€åˆ¶ä½œç‰©å“å¯ä»¥æ‰‹åŠ¨åˆ¶ä½œ

#### UIæ˜¾ç¤ºæ•ˆæœ
- **å†¶ç‚¼ç‰©å“**ï¼šåªæ˜¾ç¤ºåœ¨ç”Ÿäº§è®¾å¤‡åŒºåŸŸ
- **é«˜çº§ç‰©å“**ï¼šåªæ˜¾ç¤ºåœ¨ç”Ÿäº§è®¾å¤‡åŒºåŸŸ
- **åŸºç¡€åˆ¶ä½œç‰©å“**ï¼šæ˜¾ç¤ºåœ¨æ‰‹åŠ¨åˆæˆåŒºåŸŸ
- **æ¶‰åŠæµä½“çš„é…æ–¹**ï¼šåªæ˜¾ç¤ºåœ¨ç”Ÿäº§è®¾å¤‡åŒºåŸŸ

## åŸºç¡€åˆ¶ä½œç‰©å“æ”¯æŒ

### æ ¸å¿ƒè®¾è®¡

**åŸºç¡€åˆ¶ä½œç‰©å“**ï¼šå³ä½¿é…æ–¹ä¸­æŒ‡å®šäº†ç”Ÿäº§è®¾å¤‡ï¼ˆå¦‚è£…é…æœºï¼‰ï¼Œè¿™äº›ç‰©å“ä»ç„¶å¯ä»¥æ‰‹åŠ¨åˆ¶ä½œï¼Œç¬¦åˆFactorioçš„æ¸¸æˆé€»è¾‘ã€‚

### æ”¯æŒçš„åŸºç¡€åˆ¶ä½œç‰©å“

#### å­˜å‚¨ç±»
- `wooden-chest` - æœ¨ç®±
- `iron-chest` - é“ç®±

#### åŸºç¡€ææ–™
- `iron-gear-wheel` - é“é½¿è½®
- `copper-cable` - é“œçº¿
- `pipe` - ç®¡é“
- `stone-brick` - çŸ³ç –
- `iron-stick` - é“æ£’

#### åŸºç¡€å†¶ç‚¼
- `iron-plate` - é“æ¿
- `copper-plate` - é“œæ¿
- `steel-plate` - é’¢æ¿

#### ç”µå­ç”µè·¯
- `electronic-circuit` - ç”µå­ç”µè·¯
- `advanced-circuit` - é«˜çº§ç”µè·¯
- `processing-unit` - å¤„ç†å™¨å•å…ƒ

#### ç‰©æµè®¾å¤‡
- `transport-belt` - ä¼ é€å¸¦
- `underground-belt` - åœ°ä¸‹ä¼ é€å¸¦
- `splitter` - åˆ†æµå™¨

#### æœºæ¢°è‡‚
- `burner-inserter` - çƒ­èƒ½æœºæ¢°è‡‚
- `inserter` - æœºæ¢°è‡‚
- `long-handed-inserter` - é•¿è‡‚æœºæ¢°è‡‚
- `fast-inserter` - å¿«é€Ÿæœºæ¢°è‡‚
- `filter-inserter` - ç­›é€‰æœºæ¢°è‡‚
- `stack-inserter` - å †å æœºæ¢°è‡‚

#### ç”µåŠ›è®¾å¤‡
- `small-electric-pole` - å°å‹ç”µçº¿æ†
- `medium-electric-pole` - ä¸­å‹ç”µçº¿æ†
- `large-electric-pole` - å¤§å‹ç”µçº¿æ†
- `substation` - å˜ç”µç«™

#### å‘ç”µè®¾å¤‡
- `boiler` - é”…ç‚‰
- `steam-engine` - è’¸æ±½æœº
- `solar-panel` - å¤ªé˜³èƒ½æ¿
- `accumulator` - è“„ç”µå™¨

#### é‡‡çŸ¿è®¾å¤‡
- `burner-mining-drill` - çƒ­èƒ½é‡‡çŸ¿æœº
- `electric-mining-drill` - ç”µåŠ›é‡‡çŸ¿æœº

#### å†¶ç‚¼è®¾å¤‡
- `stone-furnace` - çŸ³ç‚‰
- `steel-furnace` - é’¢ç‚‰
- `electric-furnace` - ç”µç‚‰

#### ç”Ÿäº§è®¾å¤‡
- `assembling-machine-1` - è£…é…æœº1å‹
- `assembling-machine-2` - è£…é…æœº2å‹
- `assembling-machine-3` - è£…é…æœº3å‹

#### å…¶ä»–è®¾å¤‡
- `lab` - å®éªŒå®¤
- `radar` - é›·è¾¾
- `beacon` - ä¿¡æ ‡

#### æ¨¡å—
- `speed-module` - é€Ÿåº¦æ¨¡å—
- `speed-module-2` - é€Ÿåº¦æ¨¡å—2
- `speed-module-3` - é€Ÿåº¦æ¨¡å—3
- `effectivity-module` - èŠ‚èƒ½æ¨¡å—
- `effectivity-module-2` - èŠ‚èƒ½æ¨¡å—2
- `effectivity-module-3` - èŠ‚èƒ½æ¨¡å—3
- `productivity-module` - äº§èƒ½æ¨¡å—
- `productivity-module-2` - äº§èƒ½æ¨¡å—2
- `productivity-module-3` - äº§èƒ½æ¨¡å—3

### å®ç°é€»è¾‘

#### éªŒè¯ä¼˜å…ˆçº§
```typescript
// 1. æ£€æŸ¥é…æ–¹æ ‡å¿—ï¼ˆmining, recyclingï¼‰
// 2. æ£€æŸ¥æ˜¯å¦ä¸ºåŸºç¡€åˆ¶ä½œç‰©å“ï¼ˆæ–°å¢ï¼‰
if (basicCraftableItems.includes(recipe.id)) {
  return {
    canCraftManually: true,
    reason: 'åŸºç¡€åˆ¶ä½œç‰©å“ï¼Œå¯æ‰‹åŠ¨åˆ¶ä½œ',
    category: 'craftable'
  };
}
// 3. æ£€æŸ¥ç”Ÿäº§è€…é™åˆ¶
// 4. æ£€æŸ¥æ¶²ä½“è¾“å…¥
// 5. æ£€æŸ¥ç‰¹æ®Šé™åˆ¶ç‰©å“
```

#### åŸºç¡€åˆ¶ä½œç‰©å“æ£€æŸ¥
```typescript
// æ£€æŸ¥æ˜¯å¦ä¸ºåŸºç¡€åˆ¶ä½œç‰©å“ï¼ˆå³ä½¿æœ‰producersä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ¶ä½œï¼‰
const basicCraftableItems = [
  'wooden-chest',      // æœ¨ç®±
  'iron-chest',        // é“ç®±
  'iron-gear-wheel',   // é“é½¿è½®
  // ... æ›´å¤šåŸºç¡€ç‰©å“
];

if (basicCraftableItems.includes(recipe.id)) {
  return {
    canCraftManually: true,
    reason: 'åŸºç¡€åˆ¶ä½œç‰©å“ï¼Œå¯æ‰‹åŠ¨åˆ¶ä½œ',
    category: 'craftable'
  };
}
```

### æµ‹è¯•éªŒè¯

#### è¿è¡ŒåŸºç¡€åˆ¶ä½œæµ‹è¯•
```typescript
import { basicCraftingTest } from './utils/basicCraftingTest';

// æµ‹è¯•åŸºç¡€åˆ¶ä½œç‰©å“
await basicCraftingTest.testBasicCraftingItems();

// æµ‹è¯•ç‰¹å®šåŸºç¡€ç‰©å“
await basicCraftingTest.testSpecificBasicItem('wooden-chest');

// å¯¹æ¯”æµ‹è¯•
await basicCraftingTest.testComparison();
```

#### é¢„æœŸè¾“å‡º
```
=== æµ‹è¯•åŸºç¡€åˆ¶ä½œç‰©å“çš„æ‰‹åŠ¨åˆæˆåŠŸèƒ½ ===
--- æµ‹è¯•ç‰©å“: wooden-chest ---
é…æ–¹æ•°é‡: 1
é…æ–¹ 1: wooden-chest
  å¯æ‰‹åŠ¨åˆ¶ä½œ: âœ… æ˜¯
  åŸå› : åŸºç¡€åˆ¶ä½œç‰©å“ï¼Œå¯æ‰‹åŠ¨åˆ¶ä½œ
  ç±»åˆ«: craftable
  ç”Ÿäº§è€…: assembling-machine-1, assembling-machine-2, assembling-machine-3
  è¾“å…¥ææ–™: wood x2
  è¾“å‡ºäº§å“: wooden-chest x1
  åˆ¶ä½œæ—¶é—´: 0.5ç§’

ğŸ“‹ é¢„æœŸUIæ˜¾ç¤º:
  æ‰‹åŠ¨åˆæˆåŒºåŸŸ: âœ… æ˜¾ç¤ºï¼ˆå¯æ‰‹åŠ¨åˆ¶ä½œï¼‰
    é…æ–¹: wooden-chest
  ç”Ÿäº§è®¾å¤‡åŒºåŸŸ: âŒ ä¸æ˜¾ç¤º
```

### ç”¨æˆ·ä½“éªŒæ”¹è¿›

#### ä¹‹å‰çš„é—®é¢˜
- `wooden-chest` ç­‰åŸºç¡€ç‰©å“è¢«é”™è¯¯åœ°æ ‡è®°ä¸ºéœ€è¦ç”Ÿäº§è®¾å¤‡
- ç”¨æˆ·æ— æ³•æ‰‹åŠ¨åˆ¶ä½œè¿™äº›åŸºç¡€ç‰©å“
- UIæ˜¾ç¤ºä¸å‡†ç¡®

#### ç°åœ¨çš„æ”¹è¿›
- âœ… åŸºç¡€ç‰©å“å¯ä»¥æ‰‹åŠ¨åˆ¶ä½œ
- âœ… UIæ­£ç¡®æ˜¾ç¤ºæ‰‹åŠ¨åˆæˆåŒºåŸŸ
- âœ… ç¬¦åˆFactorioæ¸¸æˆé€»è¾‘
- âœ… æä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ

## é…æ–¹åˆ†ç±»æ˜¾ç¤ºåŠŸèƒ½

### æ ¸å¿ƒè®¾è®¡

**å•†å“è¯¦æƒ…çš„åˆ¶ä½œé…æ–¹åˆ†ä¸ºä¸¤ç±»**ï¼š

1. **æ‰‹åŠ¨åˆæˆé…æ–¹** - å¯ä»¥æ‰‹åŠ¨åˆ¶ä½œçš„é…æ–¹ï¼Œç«‹å³æ˜¾ç¤º
2. **ä¾èµ–producerçš„é…æ–¹** - éœ€è¦ç‰¹å®šç”Ÿäº§è®¾å¤‡çš„é…æ–¹ï¼Œåªæœ‰producerè§£é”åæ‰æ˜¾ç¤º

### å®ç°é€»è¾‘

#### 1. é…æ–¹åˆ†ç±»
```typescript
// æ‰‹åŠ¨åˆæˆé…æ–¹
const manualCraftableRecipes = itemRecipes.filter(recipe => {
  const validation = validator.validateRecipe(recipe);
  return validation.canCraftManually;
});

// ç”Ÿäº§è®¾å¤‡é…æ–¹
const producerRecipes = itemRecipes.filter(recipe => {
  const validation = validator.validateRecipe(recipe);
  return !validation.canCraftManually && validation.category === 'restricted';
});
```

#### 2. Producerè§£é”æ£€æŸ¥
```typescript
const isProducerUnlocked = (recipe: Recipe) => {
  if (!recipe.producers || recipe.producers.length === 0) return true;
  return recipe.producers.some((pid: string) => dataService.isItemUnlocked(pid));
};

// è¿‡æ»¤å‡ºå·²è§£é”çš„produceré…æ–¹
const unlockedProducerRecipes = producerRecipes.filter(isProducerUnlocked);
```

#### 3. UIæ˜¾ç¤ºé€»è¾‘

**æ‰‹åŠ¨åˆæˆåŒºåŸŸ**ï¼š
- æ˜¾ç¤ºå¯æ‰‹åŠ¨åˆ¶ä½œçš„é…æ–¹
- åŒ…å«åˆ¶ä½œæŒ‰é’®å’Œææ–™éœ€æ±‚
- ä½¿ç”¨ä¸»è¦é¢œè‰²ä¸»é¢˜

**ç”Ÿäº§è®¾å¤‡åŒºåŸŸ**ï¼š
- åªæ˜¾ç¤ºå·²è§£é”çš„produceré…æ–¹
- æ˜¾ç¤ºæ‰€éœ€çš„ç”Ÿäº§è®¾å¤‡ä¿¡æ¯
- ä½¿ç”¨æ¬¡è¦é¢œè‰²ä¸»é¢˜
- åŒ…å«åˆ¶ä½œæŒ‰é’®ï¼ˆoutlinedæ ·å¼ï¼‰

### UIæ˜¾ç¤ºè§„åˆ™

#### æƒ…å†µ1: åŸææ–™ï¼ˆæ— é…æ–¹ï¼‰
- æ‰‹åŠ¨åˆæˆåŒºåŸŸ: æ˜¾ç¤ºï¼ˆåŸææ–™ï¼‰
- ç”Ÿäº§è®¾å¤‡åŒºåŸŸ: ä¸æ˜¾ç¤º

#### æƒ…å†µ2: æœ‰å¯æ‰‹åŠ¨åˆ¶ä½œçš„é…æ–¹
- æ‰‹åŠ¨åˆæˆåŒºåŸŸ: æ˜¾ç¤ºï¼ˆå¯æ‰‹åŠ¨åˆ¶ä½œï¼‰
- ç”Ÿäº§è®¾å¤‡åŒºåŸŸ: æ ¹æ®è§£é”çŠ¶æ€æ˜¾ç¤º

#### æƒ…å†µ3: åªæœ‰éœ€è¦ç”Ÿäº§è®¾å¤‡çš„é…æ–¹
- æ‰‹åŠ¨åˆæˆåŒºåŸŸ: ä¸æ˜¾ç¤ºï¼ˆæ— å¯æ‰‹åŠ¨åˆ¶ä½œé…æ–¹ï¼‰
- ç”Ÿäº§è®¾å¤‡åŒºåŸŸ: åªæ˜¾ç¤ºå·²è§£é”çš„é…æ–¹

#### æƒ…å†µ4: æ— å¯ç”¨é…æ–¹
- æ‰‹åŠ¨åˆæˆåŒºåŸŸ: ä¸æ˜¾ç¤º
- ç”Ÿäº§è®¾å¤‡åŒºåŸŸ: ä¸æ˜¾ç¤º

### ä»£ç å®ç°

#### ItemDetailPanel.tsx ä¿®æ”¹
```typescript
{/* æ‰‹åŠ¨åˆæˆé…æ–¹ */}
{(() => {
  // ç°æœ‰çš„æ‰‹åŠ¨åˆæˆé…æ–¹æ˜¾ç¤ºé€»è¾‘
})()}

{/* ç”Ÿäº§è®¾å¤‡é…æ–¹ */}
{(() => {
  const itemRecipes = dataService.getRecipesForItem(item.id);
  const validator = ManualCraftingValidator.getInstance();
  
  // è·å–éœ€è¦ç”Ÿäº§è®¾å¤‡çš„é…æ–¹
  const producerRecipes = itemRecipes.filter(recipe => {
    const validation = validator.validateRecipe(recipe);
    return !validation.canCraftManually && validation.category === 'restricted';
  });

  // æ£€æŸ¥producerè§£é”çŠ¶æ€
  const isProducerUnlocked = (recipe: Recipe) => {
    if (!recipe.producers || recipe.producers.length === 0) return true;
    return recipe.producers.some((pid: string) => dataService.isItemUnlocked(pid));
  };

  // è¿‡æ»¤å‡ºå·²è§£é”çš„produceré…æ–¹
  const unlockedProducerRecipes = producerRecipes.filter(isProducerUnlocked);

  if (unlockedProducerRecipes.length === 0) {
    return null; // æ²¡æœ‰è§£é”çš„produceré…æ–¹ï¼Œä¸æ˜¾ç¤ºæ­¤åŒºåŸŸ
  }

  return (
    <Box sx={{ mb: 2 }}>
      <Typography variant="subtitle2" gutterBottom color="secondary.main">
        ç”Ÿäº§è®¾å¤‡é…æ–¹
      </Typography>
      
      {unlockedProducerRecipes.map((recipe) => (
        // ç”Ÿäº§è®¾å¤‡é…æ–¹æ˜¾ç¤ºé€»è¾‘
      ))}
    </Box>
  );
})()}
```

### æµ‹è¯•éªŒè¯

#### è¿è¡Œé…æ–¹åˆ†ç±»æµ‹è¯•
```typescript
import { recipeCategoryTest } from './utils/recipeCategoryTest';

// æµ‹è¯•é…æ–¹åˆ†ç±»åŠŸèƒ½
await recipeCategoryTest.testRecipeCategorization();

// æµ‹è¯•ç‰¹å®šç‰©å“
await recipeCategoryTest.testSpecificItemRecipeCategories('iron-plate');

// æµ‹è¯•producerè§£é”çŠ¶æ€
await recipeCategoryTest.testProducerUnlockStatus();
```

#### é¢„æœŸè¾“å‡º
```
=== æµ‹è¯•é…æ–¹åˆ†ç±»åŠŸèƒ½ ===
--- æµ‹è¯•ç‰©å“: iron-ore ---
é…æ–¹æ€»æ•°: 1
æ‰‹åŠ¨åˆæˆé…æ–¹: 1
ç”Ÿäº§è®¾å¤‡é…æ–¹: 0
å·²è§£é”çš„ç”Ÿäº§è®¾å¤‡é…æ–¹: 0
âœ… æ‰‹åŠ¨åˆæˆé…æ–¹:
  - iron-ore-mining: é‡‡çŸ¿é…æ–¹ï¼Œå¯æ‰‹åŠ¨é‡‡é›†

ğŸ“‹ é¢„æœŸUIæ˜¾ç¤º:
  æ‰‹åŠ¨åˆæˆåŒºåŸŸ: æ˜¾ç¤ºï¼ˆå¯æ‰‹åŠ¨åˆ¶ä½œï¼‰
  ç”Ÿäº§è®¾å¤‡åŒºåŸŸ: ä¸æ˜¾ç¤ºï¼ˆæ— è§£é”é…æ–¹ï¼‰

--- æµ‹è¯•ç‰©å“: iron-plate ---
é…æ–¹æ€»æ•°: 1
æ‰‹åŠ¨åˆæˆé…æ–¹: 0
ç”Ÿäº§è®¾å¤‡é…æ–¹: 1
å·²è§£é”çš„ç”Ÿäº§è®¾å¤‡é…æ–¹: 1
ğŸ­ å·²è§£é”çš„ç”Ÿäº§è®¾å¤‡é…æ–¹:
  - iron-plate-smelting: éœ€è¦ç‰¹æ®Šç”Ÿäº§è®¾å¤‡
    éœ€è¦è®¾å¤‡: stone-furnace, steel-furnace, electric-furnace

ğŸ“‹ é¢„æœŸUIæ˜¾ç¤º:
  æ‰‹åŠ¨åˆæˆåŒºåŸŸ: ä¸æ˜¾ç¤ºï¼ˆæ— å¯æ‰‹åŠ¨åˆ¶ä½œé…æ–¹ï¼‰
  ç”Ÿäº§è®¾å¤‡åŒºåŸŸ: æ˜¾ç¤ºï¼ˆå·²è§£é”çš„é…æ–¹ï¼‰
``` 