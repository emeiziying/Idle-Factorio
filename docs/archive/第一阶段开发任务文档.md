# 第一阶段开发任务文档

## 🎮 游戏概述

这是一个类似Factorio的自动化工厂建设游戏，玩家需要建立生产链、管理资源、研究科技，最终建立一个高效的自动化工厂。

## 📱 UI布局设计

### 底部导航栏
游戏主界面底部有三个主要模块：
1. **生产** - 管理和查看所有可生产的物品
2. **设施** - 管理特殊生产设施（产物不在物品列表中的设施）
3. **科技** - 研究和解锁新技术

## 🏭 生产模块

### 功能说明
生产模块用于展示和管理游戏中的所有可生产物品，参考Factorio的物品分类系统。

### UI设计
1. **页面布局**
   - **顶部分类Tab栏**：按物品类型分类（参考Factorio）
     - 物流（容器、传送带、机械臂、铁路、管道等）
     - 生产（发电、采矿、冶炼、制造设备等）
     - 中间产品（板材、零件、电路、流体等）
     - 战斗（武器、弹药、装甲、防御设施等）
     - 科技（各类科技包、特殊物品）
   
2. **物品展示**
   - **网格布局**：物品以网格形式展示（类似Factorio的物品栏）
   - **物品卡片**包含：
     - 物品图标
     - 物品名称
     - 当前库存数量
   - **可见性控制**：只显示已解锁的物品（✅ 已实现）

3. **交互设计**
   - 点击物品卡片跳转到物品详情页面
   - 物品详情页面显示：
     - 生产配方
     - 所需原料
     - 生产时间
     - 解锁条件
     - 相关生产设施

### 开发任务
- [x] 实现顶部Tab分类组件
- [x] 创建物品网格展示组件
- [x] 实现物品详情页面
- [x] 添加物品解锁状态管理（✅ 已实现解锁系统）
- [ ] 实现物品搜索功能（可选）

## 🏗️ 设施模块

### 功能说明
设施模块专门管理那些产物不在物品列表中的特殊设施，主要包括：
- **发电设施**：产出电力
- **采掘设施**：直接采集资源（如热力采掘机产出矿物）
- **研究设施**：实验室（消耗科技瓶进行研究）

### UI设计
1. **设施分类**
   - **电力设施**
     - 蒸汽机（消耗蒸汽→电力）
     - 太阳能板（产出电力）
     - 核电站（消耗核燃料→电力）
   
   - **资源采集**
     - 热力采掘机（直接采集矿物）
     - 抽水泵（采集水资源）
   
   - **研究设施**
     - 实验室（消耗科技瓶→研究进度）

2. **设施管理界面**
   - **设施列表**显示：
     - 设施名称和图标
     - 当前数量
     - 运行状态（运行中/停止/缺少资源）
     - 产出效率
     - 电力消耗/产出
   
   - **操作功能**：
     - 增加/减少设施数量
     - 查看设施详情
     - 配置设施参数

3. **电力管理面板**
   - 总发电量显示
   - 总电力消耗
   - 电力平衡状态
   - 电网效率

### 开发任务
- [ ] 创建设施分类系统
- [ ] 实现设施列表组件
- [ ] 开发电力管理面板
- [ ] 实现设施状态监控
- [ ] 添加设施配置功能

## 🔬 科技模块

### 功能说明
科技模块负责游戏的技术研究系统，通过消耗科技瓶来解锁新的物品、配方和设施。

### UI设计（参考Factorio）
1. **科技树展示**
   - **树状结构**：显示科技之间的依赖关系
   - **科技节点**包含：
     - 科技图标
     - 科技名称
     - 研究进度（如果正在研究）
     - 所需科技瓶类型和数量
     - 解锁状态（已解锁/可研究/未解锁）

2. **研究队列**
   - **队列显示**：当前正在研究的科技
   - **进度条**：显示研究进度
   - **预计完成时间**
   - **队列管理**：可以调整研究顺序

3. **科技详情**
   - **前置科技**：需要先完成的科技
   - **解锁内容**：
     - 新物品
     - 新配方
     - 新设施
     - 能力提升
   - **研究成本**：
     - 各类科技瓶需求
     - 研究时间

4. **交互设计**
   - 点击未解锁但可研究的科技→加入研究队列
   - 拖拽调整研究队列顺序
   - 右键查看科技详情

### 科技瓶系统
- **红色科技瓶**（基础）
- **绿色科技瓶**（军事）
- **蓝色科技瓶**（化工）
- **紫色科技瓶**（生产）
- **黄色科技瓶**（效能）
- **白色科技瓶**（太空）

### 开发任务
- [ ] 实现科技树数据结构
- [ ] 创建科技树可视化组件
- [ ] 开发研究队列系统
- [ ] 实现科技解锁逻辑
- [ ] 添加科技瓶消耗系统
- [ ] 创建科技详情页面

## 🎯 第一阶段核心玩法

### 游戏循环
1. **初始阶段**
   - 手动采集基础资源（煤炭、铁矿、铜矿）
   - 建造第一个熔炉，开始冶炼
   - 生产基础材料（铁板、铜板）

2. **电力阶段**
   - 建造海水泵获取水源
   - 建造锅炉，燃烧煤炭产生蒸汽
   - 建造蒸汽机，开始发电
   - 用电力驱动自动化设备

3. **自动化阶段**
   - 建造电力采掘机自动采矿
   - 建造装配机自动生产
   - 建立初步的生产链

4. **科技发展**
   - 生产红色科技瓶
   - 建造实验室
   - 研究基础科技
   - 解锁更多物品和设施

### 资源管理
- **基础资源**：煤炭、铁矿、铜矿、石头、木材
- **中间产品**：铁板、铜板、齿轮、电路板
- **能源管理**：煤炭→蒸汽→电力
- **科技资源**：各类科技瓶

## 📋 开发优先级

### 第一批实现（核心功能）
1. **基础UI框架**
   - 底部导航栏
   - 页面路由系统
   - 基础组件库

2. **生产模块基础**
   - 物品数据结构
   - 物品列表展示
   - 物品详情页面

3. **设施模块基础**
   - 设施数据结构
   - 电力系统
   - 设施管理界面

### 第二批实现（游戏性）
1. **科技系统**
   - 科技树结构
   - 研究队列
   - 解锁机制

2. **自动化生产**
   - 生产链管理
   - 资源流动
   - 效率优化

### 第三批实现（优化）
1. **UI美化**
   - 动画效果
   - 视觉反馈
   - 音效系统

2. **游戏平衡**
   - 数值调整
   - 难度曲线
   - 成就系统

## 🛠️ 技术栈建议

- **前端框架**：React + TypeScript
- **状态管理**：Redux Toolkit 或 Zustand
- **UI组件**：Material-UI 或 Ant Design
- **动画**：Framer Motion
- **数据可视化**：D3.js（科技树）

## 📝 注意事项

1. **性能优化**
   - 大量物品/设施时的渲染优化
   - 游戏状态的高效更新
   - 内存管理

2. **用户体验**
   - 清晰的视觉反馈
   - 流畅的操作体验
   - 新手引导系统

3. **可扩展性**
   - 模块化的代码结构
   - 灵活的数据配置
   - 便于添加新内容

4. **平衡性**
   - 合理的资源消耗
   - 适中的研究时间
   - 有挑战但不frustrating的游戏难度