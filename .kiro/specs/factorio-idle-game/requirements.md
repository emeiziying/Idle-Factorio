# 需求文档

## 介绍

本项目旨在开发一个参考Factorio的Idle版本游戏，结合了Factorio的自动化生产链和资源管理机制，但采用放置类游戏的核心玩法。玩家可以建造和升级各种生产设施，自动化生产资源，解锁新的科技和建筑，最终构建复杂的生产网络。游戏将在玩家离线时继续运行，体现典型的放置游戏特色。

## 需求

### 需求 1 - 基础资源系统

**用户故事：** 作为玩家，我希望能够收集和管理各种基础资源，以便为后续的生产和建造提供原材料。

#### 验收标准

1. 当游戏开始时，系统应当提供至少3种基础资源（铁矿、铜矿、煤炭）
2. 当玩家点击资源节点时，系统应当自动收集该资源并增加到库存中
3. 当资源被收集时，系统应当显示当前库存数量和收集速率
4. 如果库存达到上限，系统应当停止自动收集并提示玩家

### 需求 2 - 自动化生产设施

**用户故事：** 作为玩家，我希望能够建造各种生产设施来自动化资源的收集和加工，这样我就不需要手动操作。

#### 验收标准

1. 当玩家拥有足够资源时，系统应当允许建造采矿机、熔炉等基础设施
2. 当生产设施建造完成时，系统应当开始自动生产相应的资源或产品
3. 当设施运行时，系统应当消耗相应的输入资源并产出目标资源
4. 如果输入资源不足，系统应当暂停生产并显示相应状态

### 需求 3 - 科技研发系统

**用户故事：** 作为玩家，我希望能够研发新的科技来解锁更高级的建筑和生产配方，以便扩展我的生产能力。

#### 验收标准

1. 当玩家拥有足够的科学包时，系统应当允许研究新的科技
2. 当科技研究完成时，系统应当解锁相应的建筑、配方或功能
3. 当科技被解锁时，系统应当在建造菜单中显示新的可用选项
4. 如果科技有前置要求，系统应当只在满足条件时才允许研究

### 需求 4 - 离线进度系统

**用户故事：** 作为放置游戏玩家，我希望游戏在我离线时也能继续运行，这样我回来时能看到进度。

#### 验收标准

1. 当玩家关闭游戏时，系统应当记录当前的生产状态和时间戳
2. 当玩家重新打开游戏时，系统应当计算离线期间的生产进度
3. 当计算离线收益时，系统应当考虑资源上限和生产瓶颈
4. 如果离线时间超过设定上限，系统应当按最大离线时间计算收益

### 需求 5 - 生产链管理

**用户故事：** 作为玩家，我希望能够构建复杂的生产链，将基础资源加工成高级产品，以便解锁更多内容。

#### 验收标准

1. 当玩家建造多个相关设施时，系统应当自动管理资源在设施间的流动
2. 当上游设施生产产品时，系统应当自动将其作为下游设施的输入
3. 当生产链出现瓶颈时，系统应当显示相应的状态指示
4. 如果某个环节停止生产，系统应当相应调整整个生产链的效率

### 需求 6 - 升级系统

**用户故事：** 作为玩家，我希望能够升级我的设施来提高生产效率，以便更快地推进游戏进度。

#### 验收标准

1. 当玩家拥有足够资源时，系统应当允许升级现有设施
2. 当设施升级完成时，系统应当提高其生产速度或效率
3. 当设施达到最高等级时，系统应当显示"已满级"状态
4. 如果升级需要特定科技，系统应当在科技解锁后才允许升级

### 需求 7 - 用户界面和进度显示

**用户故事：** 作为玩家，我希望有清晰直观的界面来查看我的资源、设施状态和游戏进度。

#### 验收标准

1. 当游戏运行时，系统应当实时显示所有资源的当前数量和生产速率
2. 当玩家查看设施时，系统应当显示其等级、效率和升级成本
3. 当有新内容解锁时，系统应当通过通知或高亮提示玩家
4. 如果玩家长时间未操作，系统应当显示当前最优的下一步建议